<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Mintverse</title>
	<meta name="description" content="每一個詞彙，都收藏了世界的一個部分。一群詞彙交織起來，就是一個完整的宇宙。"/>
	<meta property="og:title" content="Mintverse" />
	<meta property="og:description" content="每一個詞彙，都收藏了世界的一個部分。一群詞彙交織起來，就是一個完整的宇宙。" />
	<meta property="og:image" content="../cover.png"/>
	<link rel="icon" type="image/x-icon" href="../favicon.ico">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="../css/_reset.css">
	<link rel="stylesheet" href="../css/header.css">
	<link rel="stylesheet" href="../css/footer.css">
	<link rel="stylesheet" href="../css/prove.css">
	<link rel="stylesheet" href="../css/es.css">
	<script src="../js/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery.marquee@1.6.0/jquery.marquee.min.js"></script>
	<script src="../js/header.js"></script>
	<script src="../js/footer.js"></script>
	<script src="../js/pop.js"></script>
	<link rel="stylesheet" href="../css/pop.css">
</head>
<body>
	<div id="app">
		<header>
		</header>
		<div class="banner">
			<img src="../image/final.gif" alt="banner">
		</div>
		<section class="prove">
			<h1>將語言雕刻在區塊鏈上</h1>
			<p>
				母語像是殘缺的石板，在沒有物理重量的宇宙裡隨著時間散佚，被時間一滴一滴的侵蝕，被人們一點一點的遺忘......語言是文化的根，你的母語還記得多少呢？
				<br><br>
				區塊鏈是一種去中心化的儲存技術，本計畫透過 NFT (non-fungible token) 的方式將財團法人原住民族語言研究發展基金會所統整的 1077 個拉阿魯哇族語，透過文字符號、視覺藝術與耆老聲音的紀錄，儲存於以太側鏈 polygon 之上。
			</p>
			<h1>聆聽拉阿魯哇族語</h1>
			<p>
				<!-- <ul class="audio_list">
					<li>
						<b>數字計量</b>
					</li>
					<li>
					</li>
				</ul> -->
				<ul class="outer_ul">
					<!-- <li class="outer_li">
						<b>數字計量</b>
						<ul class="audio_list">
							<li>⼀	ucani</li>
							<li>⼆	usua</li>
							<li>三	utulu</li>
						</ul>
					</li>
					<li class="outer_li">
						<ul>
							<b>動物(含昆蟲)</b>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
						</ul>
					</li>
					<li class="outer_li">
						<ul>
							<b>2動物(含昆蟲)</b>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
						</ul>
					</li>
					<li class="outer_li">
						<ul>
							<b>3動物(含昆蟲)</b>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
						</ul>
					</li>
					<li class="outer_li">
						<ul>
							<b>4動物(含昆蟲)</b>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
						</ul>
					</li>
					<li class="outer_li">
						<ul>
							<b>5動物(含昆蟲)</b>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
						</ul>
					</li>
					<li class="outer_li">
						<ul>
							<b>6動物(含昆蟲)</b>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
						</ul>
					</li>
					<li class="outer_li">
						<ul>
							<b>7動物(含昆蟲)</b>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
						</ul>
					</li>
					<li class="outer_li">
						<ul>
							<b>8動物(含昆蟲)</b>
							<li>尾巴	’isisi</li>
							<li>豬	tahlakʉ</li>
							<li>狗	tasau</li>
						</ul>
					</li> -->
				</ul>
			</p>
			<audio id="audioPlayer" src="" autoplay controls></audio>

		</section>
		<footer>
		</footer>
	</div>
	<script>
		$(document).ready(function() {
			$('header').setHeader();
			$('footer').setFooter();
			$('.popset').setPop()
			let serchData = [];

			// serchData.forEach(function(item){
			// 	$('.result').empty();
			// 	$('.result').append(`<img src=${item}>`)
			// })
			initData();
			$('.searchInput span').on('click', function(event) {
				event.preventDefault();
				/* Act on the event */
				search($('input').val());
			});
			$( "input" ).keypress(function( event ) {
			  if ( event.which == 13 ) {
			     event.preventDefault();
			     search($('input').val());
			  }
			});
			function initData(){
				
				for (var i = 0; i < 30; i++) {
					let jsonData = {}
					jsonData.link = `#`;
					if(i==29)i+=9;
					jsonData.gif_url = `https://mintverse.s3.ap-northeast-1.amazonaws.com/gif_defined_${3800+i}.gif`;
					serchData.push(jsonData)
				}
				
				renderGif();

			}
			function renderGif(){
				$('.result a').remove();
				$('.result h1').hide();
				serchData.forEach(function(item){
					if(item.gif_url == null)return;
					let gif = item.gif_url;
					//gif = '../image/sample.gif'
					$('.result').append(`<a href="${item.link}"><img src='${gif}''></a>`)
				})
			}
			// async function search(key){
			// 	if($.trim($('input').val()).length == 0){
			// 		$('.popset').openPop({message:'請輸入詞彙關鍵字'});
			// 		return;
			// 	}
			// 	$('.result a').remove();
			// 	$('.result h1').hide();
			// 	let endpoint = `https://api2.mintverse.world/api/mintverse/token/search`;
			// 	let data = await $.ajax({
			//   		type: "POST",
			// 	    url: endpoint,
			// 	    dataType: "json",
			// 	    contentType:'application/json;charset=utf-8',
			// 	    data:JSON.stringify({
			// 		  "keyword": key,
			// 		  "token_category": 2
			// 		}),
			// 	    success: function (response) {
			// 	      	serchData = response.results;
			// 	    },
			// 	    error: function (thrownError) {
			// 	      	console.log(thrownError);
			// 	    }
			//   	})
			//   	if(serchData.length == 0)
			//   		$('.result h1').show();
			//   	else
			//   		renderGif();
			// }

			// Audio
			let jsonArray = [
				{
					title: '數字計量',
					audioList: [
						{
							title: '⼀	ucani',
							audioData: 'http://tts.youdao.com/fanyivoice?word=ucani&le=zh&keyfrom=speaker-target'
						},{
							title: '⼆	usua',
							audioData: 'http://tts.youdao.com/fanyivoice?word=usua&le=zh&keyfrom=speaker-target'
						},{
							title: '三	utulu',
							audioData: 'http://tts.youdao.com/fanyivoice?word=utulu&le=zh&keyfrom=speaker-target'
						}
					]
				},{
					title: '動物(含昆蟲)',
					audioList: [
						{
							title: '尾巴	’isisi',
							audioData: 'http://tts.youdao.com/fanyivoice?word=’isisi&le=zh&keyfrom=speaker-target'
						},{
							title: '豬	tahlakʉ',
							audioData: 'http://tts.youdao.com/fanyivoice?word=tahlakʉ&le=zh&keyfrom=speaker-target'
						},{
							title: '狗	tasau',
							audioData: 'http://tts.youdao.com/fanyivoice?word=tasau&le=zh&keyfrom=speaker-target'
						}
					]
				},{
					title: '物品',
					audioList: [
						{
							title: '書	suhlatʉ aiiapa',
							audioData: 'http://tts.youdao.com/fanyivoice?word=suhlatʉ aiiapa&le=zh&keyfrom=speaker-target'
						},{
							title: '錢	vahlituku',
							audioData: 'http://tts.youdao.com/fanyivoice?word=vahlituku&le=zh&keyfrom=speaker-target'
						},{
							title: '球	taʉhlʉkai',
							audioData: 'http://tts.youdao.com/fanyivoice?word=taʉhlʉkai&le=zh&keyfrom=speaker-target'
						}
					]
				}
			]
			// console.log("AudioArray",AudioArray)
			// AudioArray.forEach((el) => {
			// 	var au1 = '<audio id="tts_autio_id" autoplay="autoplay">';
			// 	var sss = '<source id="tts_source_id" src="http://tts.youdao.com/fanyivoice?word=' + el.audioData + '&le=zh&keyfrom=speaker-target" type="audio/mpeg">';
			// 	var eee = '<embed id="tts_embed_id" height="0" width="0" src="">';
			// 	var au2 = '</audio>';

			// 	$('.audio_list').append('<li data-audio="' + el.audioData + '">'+ el.title  + au1 + sss + eee + au2 + '</li>')

			// 	if (el.audioData == '') {
			// 		$(el).addClass("red")
			// 		console.log('成立')
			// 	}
			// 	console.log(el.audioData)
			// })
			// $('.audio_list li').click((e) => {
			// 	// window.alert($(e.target).data('audio'))
			// 	ttsAudio = e.target.querySelector('#tts_autio_id');
			// 	console.log(ttsAudio)
			// 	ttsAudio.play();
			// })

			// console.log("jsonArray",jsonArray)
			jsonArray.forEach((el, elIdx) => {
				const au1 = '<audio id="tts_autio_id" autoplay="autoplay">';
				const eee = '<embed id="tts_embed_id" height="0" width="0" src="">';
				const au2 = '</audio>';

				const parentLi = document.createElement('li')
				const childUl = document.createElement('ul')
				parentLi.className = 'outer_li'
				childUl.className = 'audio_list'

				parentLi.innerHTML = '<b>'+ el.title + '</b>'
				document.querySelector('.outer_ul').appendChild(parentLi)
				parentLi.appendChild(childUl)


				el.audioList.forEach((e, idx) => {
					const childLi = document.createElement('li')
					childLi.dataset.audioUrl =  e.audioData
					childLi.innerText = e.title

					childUl.appendChild(childLi)
					// childLi.innerHTML = '<li data-audio="' + + '">'+ e.title  + au1 + sss + eee + au2 + '</li>'
					// console.log('test', childUl)
				})
			})

			$('.outer_ul li .audio_list li').click((e) => {
				// console.log(
				// 	'CLICK', e.target.dataset['audioUrl']
				// )
				$('#audioPlayer').attr('src', e.target.dataset['audioUrl'])
			})

			
		})
	</script>
</body>
</html>